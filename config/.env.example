# AI Council LifeOS Security Configuration
# Copy this file to .env and fill in your values

# ===========================================
# CORE SECURITY SETTINGS (REQUIRED)
# ===========================================
# Generate strong secrets using: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
ENCRYPTION_KEY=your-super-secret-encryption-key-32-chars-minimum-length
SESSION_SECRET=your-super-secret-session-key-change-in-production-min-32-chars

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3001
NODE_ENV=development
API_BASE_URL=http://localhost:3001
WEBAPP_URL=http://localhost:3000

# ===========================================
# TELEGRAM INTEGRATION
# ===========================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret_here
# Optional: External webhook URL for production
# TELEGRAM_WEBHOOK_URL=https://yourdomain.com/api/telegram/webhook
# Optional: Admin user IDs for bot management
# TELEGRAM_ADMIN_USERS=123456789,987654321

# ===========================================
# NOTION INTEGRATION
# ===========================================
NOTION_API_KEY=your_notion_integration_token_here
NOTION_WEBHOOK_SECRET=your_notion_webhook_secret_here

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# For production, use secure database credentials
# DATABASE_URL=postgresql://username:password@host:port/database
# REDIS_URL=redis://username:password@host:port

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================
# Global rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Auth endpoints rate limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=10
PASSWORD_RATE_LIMIT_MAX_REQUESTS=3

# API endpoints rate limiting
API_READ_RATE_LIMIT=100
API_WRITE_RATE_LIMIT=50
API_EXPORT_RATE_LIMIT=1

# ===========================================
# SECURITY HEADERS & CORS
# ===========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://your-production-domain.com
ENABLE_SECURITY_HEADERS=true
ENABLE_HELMET=true

# ===========================================
# DATA PROTECTION & PRIVACY
# ===========================================
# Data retention settings (in days)
DATA_RETENTION_DAYS=2555
AUDIT_LOG_RETENTION_DAYS=1095
HEALTH_DATA_RETENTION_DAYS=2555
FINANCIAL_DATA_RETENTION_DAYS=2555

# GDPR compliance
GDPR_ENABLED=true
DATA_PORTABILITY=true
RIGHT_TO_BE_FORGOTTEN=true
CONSENT_MANAGEMENT=true
PRIVACY_POLICY_URL=https://your-domain.com/privacy

# CCPA compliance
CCPA_ENABLED=true
DATA_SALE_OPT_OUT=true
DISCLOSURE_RIGHTS=true
DELETION_RIGHTS=true
PRIVACY_NOTICE_URL=https://your-domain.com/privacy/california

# ===========================================
# MONITORING & LOGGING
# ===========================================
LOG_LEVEL=info
SECURITY_EVENT_LOGGING=true
PERFORMANCE_MONITORING=true
HEALTH_CHECK_ENABLED=true

# Security alert thresholds
FAILED_LOGIN_THRESHOLD=10
SUSPICIOUS_ACTIVITY_THRESHOLD=5
DATA_ACCESS_THRESHOLD=1000

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true
# BACKUP_DESTINATIONS=local,s3,google-drive

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Only use in development!
BYPASS_AUTH=false
USE_MOCK_DATA=true
DEBUG=false
DEBUG_SQL=false

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Email service for notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# SMS service (optional)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# File storage (for backups, exports, etc.)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-west-2
# AWS_S3_BUCKET=ai-council-backups

# ===========================================
# MULTI-FACTOR AUTHENTICATION
# ===========================================
MFA_ENABLED=true
MFA_ISSUER=AI Council LifeOS
TOTP_WINDOW=1

# ===========================================
# API KEYS (for external integrations)
# ===========================================
# Generate secure API keys for integrations
EXTERNAL_API_KEY_1=your_external_api_key_1
EXTERNAL_API_KEY_2=your_external_api_key_2

# ===========================================
# COMPLIANCE & LEGAL
# ===========================================
# Data Protection Officer contact
DPO_EMAIL=dpo@your-domain.com
LEGAL_CONTACT=legal@your-domain.com

# Cookie consent settings
COOKIE_CONSENT_ENABLED=true
COOKIE_CONSENT_VERSION=1.0

# ===========================================
# ADVANCED SECURITY
# ===========================================
# IP whitelisting (optional)
# IP_WHITELIST=127.0.0.1,::1,your-office-ip

# Session management
SESSION_TIMEOUT_MS=86400000
MAX_CONCURRENT_SESSIONS=5
SESSION_SECURE_COOKIES=true

# Password policies
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_MAX_AGE_DAYS=90

# Account lockout
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MS=900000
LOCKOUT_RESET_ON_SUCCESS=true